// Originally from Tundra Exploration, all credits to them
// Commodity tanks
@PART[SEP_S20_CREW]:NEEDS[B9PartSwitch,!Pathfinder,!RealismOverhaul]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = SEP_Service
		switcherDescription = Resources
		baseVolume = 1200
		switchInFlight = true
		SUBTYPE
		{
			name = Structural
			tankType = Structural
		}
		SUBTYPE:NEEDS[Kerbalism]
		{
			name = Essentials
			tankType = SEPSupplyEssentials
			title = Essentials
			primaryColor = BabyBlue
			secondaryColor = DarkSand
		}
		SUBTYPE:NEEDS[TacLifeSupport|USILifeSupport]
		{
			name = LifeSupport
			tankType:NEEDS[TacLifeSupport] = SEPSupplyTAC
			tankType:NEEDS[USILifeSupport] = SEPSupplyUSI
			title = LifeSupport
			primaryColor = Avocado
			secondaryColor:NEEDS[TacLifeSupport] = Ocean
			secondaryColor:NEEDS[USILifeSupport] = Shit
		}
		SUBTYPE:NEEDS[TacLifeSupport|Kerbalism]
		{
			name = Food
			tankType = SEPSupplyFood
			title = Food
			primaryColor = Avocado
			secondaryColor = Avocado
		}
		SUBTYPE:NEEDS[TacLifeSupport|Kerbalism]
		{
			name = Water
			tankType = SEPSupplyWater
			title = Water
			primaryColor = Ocean
			secondaryColor = Ocean
		}
		SUBTYPE:NEEDS[TacLifeSupport|Kerbalism]
		{
			name = Oxygen
			tankType = SEPSupplyOxygen
			title = Oxygen
			primaryColor = BabyBlue
			secondaryColor = BabyBlue
		}
		SUBTYPE:NEEDS[TacLifeSupport|Kerbalism]
		{
			name = Waste
			tankType = SEPSupplyWaste
			title = Waste
			primaryColor = Shit
			secondaryColor = Shit
		}
		SUBTYPE:NEEDS[USILifeSupport]
		{
			name = Supplies
			tankType = SEPSupplySupplies
			title = Supplies
			primaryColor = Avocado
			secondaryColor = Greyish
		}
		SUBTYPE:NEEDS[USILifeSupport]
		{
			name = Mulch
			tankType = SEPSupplyMulch
			title = Mulch
			primaryColor = Shit
			secondaryColor = Shit
		}
		SUBTYPE:NEEDS[USILifeSupport|TacLifeSupport]
		{
			name = Fertilizer
			tankType = SEPSupplyFertilizer
			title = Fertilizer
			primaryColor = DarkSand
			secondaryColor = DarkSand
		}
		SUBTYPE:NEEDS[TacLifeSupport|Kerbalism]
		{
			name = AllSewage
			tankType = SEPSupplyAllSewage
			title = All Sewage
			primaryColor = PissYellow
			secondaryColor = Shit
		}
		SUBTYPESUBTYPE:NEEDS[Kerbalism]
		{
			name = XenonGas
			tankType = SEPSupplyXenon
			title = XenonGas
		}
		SUBTYPE:NEEDS[Kerbalism]
		{
			name = Ammonia
			tankType = SEPSupplyAmmonia
			title = Ammonia
			primaryColor = BurntRed
			secondaryColor = BurntRed
		}
		SUBTYPE:NEEDS[Kerbalism]
		{
			name = CarbonDioxide
			tankType = SEPSupplyCarbonDioxide
			title = CarbonDioxide
			primaryColor = Greyish
			secondaryColor = Greyish
		}
		SUBTYPE:NEEDS[Kerbalism]
		{
			name = Hydrogen
			tankType = SEPSupplyHydrogen
			title = Hydrogen
			primaryColor = CarolinaBlue
			secondaryColor = CarolinaBlue
		}
		SUBTYPE:NEEDS[Kerbalism]
		{
			name = Nitrogen
			tankType = SEPSupplyNitrogen
			title = Nitrogen
			primaryColor = Azure
			secondaryColor = Azure
		}
		SUBTYPE:NEEDS[Kerbalism]
		{
			name = WasteWater
			tankType = SEPSupplyWasteWater
			title = WasteWater
			primaryColor = PissYellow
			secondaryColor = PissYellow
		}
	}
}

@PART[SEP_S20_CREW]:NEEDS[Snacks]
{
  RESOURCE
  {
    name = Snacks
    amount = 2000
    maxAmount = 2000
  }
  RESOURCE
  {
    name = Soil
    amount = 1000
    maxAmount = 1000
  }
  MODULE
  {
    name = SoilRecycler
    ConverterName = Snack Regenerator [Soil]
    StartActionName = Start Regenerator [Soil]
    StopActionName = Stop Regenerator [Soil]
    AutoShutdown = false
    GeneratesHeat = false
    UseSpecialistBonus = true
    ExperienceEffect = ConverterSkill
    EfficiencyBonus = 1.0
    RecyclerCapacity = 4
    INPUT_RESOURCE
    {
      ResourceName = Soil
      Ratio = 0.00004630
      FlowMode = ALL_VESSEL
    }
    INPUT_RESOURCE
    {
      ResourceName = ElectricCharge
      Ratio = 3
      FlowMode = STAGE_PRIORITY_FLOW
    }
    OUTPUT_RESOURCE
    {
      ResourceName = Snacks
      Ratio = 0.00075
      DumpExcess = false
      FlowMode = ALL_VESSEL
    }
  }
}
