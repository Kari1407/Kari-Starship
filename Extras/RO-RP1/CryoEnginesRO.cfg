@PART[cryoengine-deinonychus-1]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.549 // ~1.3m Nozzle
	
	%maxTemp = 1700
	%crashTolerance = 15
	%breakingForce = 250
	%breakingTorque = 250
	
		
    %TechRequired = stagedCombustionNF
    %cost = 245
    %entryCost = 60000
    RP0conf = true
	@title = Raptor (Surface Variant)
    @description ^=:$: <b><color=green>From CryoEngines mod</color></b>

    MODULE
    { name = ModuleTagEngineLiquidTurbo }	
	
	@MODULE[ModuleGimbal]
	{
		%gimbalRange = 15
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	
	@MODULE[ModuleEngines*]
	{
		%EngineType = LiquidFuel
		%throttleResponseRate = 5
	}
	
	!MODULE[ModuleEngineConfigs],*{}
	!MODULE[ModuleAlternator],*{}
	!RESOURCE,*{}
	
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = Raptor 1
		modded = false
		origMass = 1.5

		CONFIG
		{
			name = Raptor 1
			maxThrust = 1810
			minThrust = 724 // 40% throttle
			heatProduction = 100
			ratedBurnTime = 1800
			PROPELLANT // Ratio = 3.55
			{
				name = LqdMethane
				ratio = 0.43
				DrawGauge = true
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.57
			}
			atmosphereCurve
			{
				key = 0 350
				key = 1 325
			}

			ullage = True
			pressureFed = False
			ignitions = 0
			gimbalRange = 15

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 1.0
			}
			IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
			{
				name = LqdMethane
				amount = 0.43 // ~ Guess
			}
			IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
			{
				name = LqdOxygen
				amount = 0.57 // ~ Guess
			}

			massMult = 1.0
		}
		CONFIG
		{
			name = Raptor 2
			maxThrust = 2255
			minThrust = 902
			heatProduction = 100
			ratedBurnTime = 1800
			PROPELLANT // Ratio = 3.55
			{
				name = LqdMethane
				ratio = 0.43
				DrawGauge = true
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.57
			}
			atmosphereCurve
			{
				key = 0 350
				key = 1 325
			}

			ullage = True
			pressureFed = False
			ignitions = 0
			gimbalRange = 15

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 1.0
			}
			IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
			{
				name = LqdMethane
				amount = 0.43 // ~ Guess
			}
			IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
			{
				name = LqdOxygen
				amount = 0.57 // ~ Guess
			}

			massMult = 1
		}
	}

	
	@MODULE[ModuleB9PartSwitch]
	{
		!SUBTYPE[1.25m] {}
		!SUBTYPE[Boattail] {}
	}
	MODULE
	{
		name = ModuleB9DisableTransform
		transform = B_Raptor_125
		transform = B_Raptor_Boat
	}
	
}

@PART[cryoengine-eagle-1]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.745 // ~2.4m Nozzle
	
	!MODULE[ModuleEngineConfigs],*{}
	!MODULE[ModuleAlternator],*{}
	!RESOURCE,*{}
	!MODULE[ModuleGimbal] {}
	%maxTemp = 1700
	%crashTolerance = 15
	%breakingForce = 250
	%breakingTorque = 250
	
	%TechRequired = stagedCombustionNF
    %cost = 245
    %entryCost = 60000
    RP0conf = true
	@title = Raptor (Vacuum Variant)
    @description ^=:$: <b><color=green>From CryoEngines mod</color></b>

    MODULE
    { name = ModuleTagEngineLiquidTurbo }
	
	@MODULE[ModuleEngines*]
	{
		%EngineType = LiquidFuel
		%throttleResponseRate = 5
	}
	
	
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = Raptor Vacuum
		modded = false
		origMass = 1.5
		
		CONFIG
		{
			name = Raptor Vacuum
			maxThrust = 1810 // ~ Guess based on R1 thrust
			minThrust = 724 // 40% throttle
			heatProduction = 100
			ratedBurnTime = 3600
			PROPELLANT // Ratio = 3.55
			{
				name = LqdMethane
				ratio = 0.43
				DrawGauge = true
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.57
			}
			atmosphereCurve
			{
				key = 0 378
				key = 1 240 // ~ Guess
			}

			ullage = True
			pressureFed = False
			ignitions = 0
			gimbalRange = 0

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 1.0
			}
			IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
			{
				name = LqdMethane
				amount = 0.43 // ~ Guess
			}
			IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
			{
				name = LqdOxygen
				amount = 0.57 // ~ Guess
			}

			massMult = 1.25 // ~ Guess
		}
	}

	@MODULE[ModuleB9PartSwitch]
	{
		!SUBTYPE[2.5m] {}
	}
	
	MODULE
	{
		name = ModuleB9DisableTransform
		transform = B_RaptorVac_25
	}

}

//	==================================================
//	TestFlight compatibility.
//	==================================================

@PART[cryoengine-deinonychus-1}:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = Raptor
		ratedBurnTime = 1800 // ~ Guess to Allow it to Burn For 30 Minutes
		ignitionReliabilityStart = 0.98 // ~ Slight Chance of the Torch-lit system failing
		ignitionReliabilityEnd = 0.995 // ~ Slight Chance of the Torch-lit system failing
		cycleReliabilityStart = 0.99975
		cycleReliabilityEnd = 0.99995
	} 
}

@PART[cryoengine-eagle-1]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = Raptor Vacuum
		ratedBurnTime = 3600 // ~ Guess to Allow it to Burn For 1 Hour
		ignitionReliabilityStart = 0.98 // ~ Slight Chance of the Torch-lit system failing
		ignitionReliabilityEnd = 0.995 // ~ Slight Chance of the Torch-lit system failing
		cycleReliabilityStart = 0.99975
		cycleReliabilityEnd = 0.99995
	}

}

@PART[cryoengine-deinonychus-1]:NEEDS[Waterfall]:FOR[RealismOverhaul]
{
  !EFFECTS {}
!MODULE[ModuleWaterfallFX] {}
  EFFECTS
  {
    fx-deinonychus
    {
			AUDIO
			{
				channel = Ship
				clip = Waterfall/Sounds/ZorgSounds/loop_raptor_sealevel
				volume = 0.0 0.0
				volume = 0.1 0.3
				volume = 1.0 1.0
				pitch = 0.0 0.7
				pitch = 1.0 1.0
				loop = true
			}
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_light
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
        localOffset = 0, 0, 0
      }
    }
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = Waterfall/Sounds/ZorgSounds/engage_raptor
        volume = 1.0
        pitch = 1.0
        loop = false
      }
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout_2
        transformName = thrustTransform
        oneShot = true
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
  }
  MODULE
  {
    name = ModuleWaterfallFX
    // This is a custom name
    moduleID = deinonychusFX
    // This links the effects to a given ModuleEngines
    engineID = Rutherford

    // List out all controllers we want available
    // This controller scales with atmosphere depth
    CONTROLLER
    {
      name = atmosphereDepth
      linkedTo = atmosphere_density
    }
    // This controller scales with effective throttle
    CONTROLLER
    {
      name = throttle
      linkedTo = throttle
    }
    // this controller generates a random value in the range specified
    CONTROLLER
    {
      name = random
      linkedTo = random
      range = -1,1
    }
    // -----------------------------------------------------
    // Past here should be generated with the ingame editor!
    // -----------------------------------------------------
    TEMPLATE
    {
      // This is the name of the template to use
      templateName = waterfall-methalox-lower-raptor-1
      // This field allows you to override the parentTransform name in the EFFECTS contained in the template
      overrideParentTransform = thrustTransform
	position = 0,0,0.02
	rotation = 0, 0, 0
	scale = 1.1, 1.1, 1.3
    }
  }
}

@PART[cryoengine-eagle-1]:NEEDS[Waterfall]:FOR[RealismOverhaul]
{
  !EFFECTS {}
!MODULE[ModuleWaterfallFX] {}
 EFFECTS
  {
    fx-eagle
    {
			AUDIO
			{
				channel = Ship
				clip = Waterfall/Sounds/ZorgSounds/loop_raptor_sealevel
				volume = 0.0 0.0
				volume = 0.1 0.3
				volume = 1.0 1.0
				pitch = 0.0 0.7
				pitch = 1.0 1.0
				loop = true
			}


      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_light
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
      }
    }
    engage
    {
			AUDIO
			{
				channel = Ship
				clip = Waterfall/Sounds/ZorgSounds/engage_raptor
				volume = 1.0
				pitch = 1.0
				loop = false
			}
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout_2
        transformName = thrustTransform
        oneShot = true
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
  }
  MODULE
  {
    name = ModuleWaterfallFX
    // This is a custom name
    moduleID = eagleFX
    // This links the effects to a given ModuleEngines
    engineID = Rutherford

    // List out all controllers we want available
    // This controller scales with atmosphere depth
    CONTROLLER
    {
      name = atmosphereDepth
      linkedTo = atmosphere_density
    }
    // This controller scales with effective throttle
    CONTROLLER
    {
      name = throttle
      linkedTo = throttle
    }
    // this controller generates a random value in the range specified
    CONTROLLER
    {
      name = random
      linkedTo = random
      range = -1,1
    }
    // -----------------------------------------------------
    // Past here should be generated with the ingame editor!
    // -----------------------------------------------------
    TEMPLATE
    {
      // This is the name of the template to use
      templateName = waterfall-methalox-upper-raptor-1
      // This field allows you to override the parentTransform name in the EFFECTS contained in the template
      overrideParentTransform = fxTransformPlume
position = 0,0.7,0
rotation = 90, 0, 0
scale = 2.1, 2.1, 2
    }
  }
}
